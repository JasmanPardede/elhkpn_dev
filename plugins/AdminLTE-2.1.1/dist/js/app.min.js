/*! AdminLTE app.js
 * ================
 * Main JS application file for AdminLTE v2. This file
 * should be included in all pages. It controls some layout
 * options and implements exclusive AdminLTE plugins.
 *
 * @Author  Almsaeed Studio
 * @Support <http://www.almsaeedstudio.com>
 * @Email   <support@almsaeedstudio.com>
 * @version 2.1.0
 * @license MIT <http://opensource.org/licenses/MIT>
 */
"use strict";function _init(){$.AdminLTE.layout={activate:function(){var a=this;a.fix(),a.fixSidebar(),$(window,".wrapper").resize(function(){a.fix(),a.fixSidebar()})},fix:function(){var a=$(".main-header").outerHeight()+$(".main-footer").outerHeight(),b=$(window).height(),c=$(".sidebar").height();if($("body").hasClass("fixed"))$(".content-wrapper, .right-side").css("min-height",b-$(".main-footer").outerHeight());else{var d;b>=c?($(".content-wrapper, .right-side").css("min-height",b-a),d=b-a):($(".content-wrapper, .right-side").css("min-height",c),d=c);var e=$($.AdminLTE.options.controlSidebarOptions.selector);"undefined"!=typeof e&&e.height()>d&&$(".content-wrapper, .right-side").css("min-height",e.height())}},fixSidebar:function(){return $("body").hasClass("fixed")?("undefined"==typeof $.fn.slimScroll&&console&&console.error("Error: the fixed layout requires the slimscroll plugin!"),void($.AdminLTE.options.sidebarSlimScroll&&"undefined"!=typeof $.fn.slimScroll&&($(".sidebar").slimScroll({destroy:!0}).height("auto"),$(".sidebar").slimscroll({height:$(window).height()-$(".main-header").height()+"px",color:"rgba(0,0,0,0.2)",size:"3px"})))):void("undefined"!=typeof $.fn.slimScroll&&$(".sidebar").slimScroll({destroy:!0}).height("auto"))}},$.AdminLTE.pushMenu={activate:function(a){var b=$.AdminLTE.options.screenSizes;$(a).on("click",function(a){a.preventDefault(),$(window).width()>b.sm-1?$("body").toggleClass("sidebar-collapse"):$("body").hasClass("sidebar-open")?($("body").removeClass("sidebar-open"),$("body").removeClass("sidebar-collapse")):$("body").addClass("sidebar-open")}),$(".content-wrapper").click(function(){$(window).width()<=b.sm-1&&$("body").hasClass("sidebar-open")&&$("body").removeClass("sidebar-open")}),($.AdminLTE.options.sidebarExpandOnHover||$("body").hasClass("fixed")&&$("body").hasClass("sidebar-mini"))&&this.expandOnHover()},expandOnHover:function(){var a=this,b=$.AdminLTE.options.screenSizes.sm-1;$(".main-sidebar").hover(function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-collapse")&&$(window).width()>b&&a.expand()},function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-expanded-on-hover")&&$(window).width()>b&&a.collapse()})},expand:function(){$("body").removeClass("sidebar-collapse").addClass("sidebar-expanded-on-hover")},collapse:function(){$("body").hasClass("sidebar-expanded-on-hover")&&$("body").removeClass("sidebar-expanded-on-hover").addClass("sidebar-collapse")}},$.AdminLTE.tree=function(a){var b=this;$("li a",$(a)).on("click",function(a){var c=$(this),d=c.next();if(d.is(".treeview-menu")&&d.is(":visible"))d.slideUp("normal",function(){d.removeClass("menu-open")}),d.parent("li").removeClass("active");else if(d.is(".treeview-menu")&&!d.is(":visible")){var e=c.parents("ul").first(),f=e.find("ul:visible").slideUp("normal");f.removeClass("menu-open");var g=c.parent("li");d.slideDown("normal",function(){d.addClass("menu-open"),e.find("li.active").removeClass("active"),g.addClass("active"),b.layout.fix()})}d.is(".treeview-menu")&&a.preventDefault()})},$.AdminLTE.controlSidebar={activate:function(){var a=this,b=$.AdminLTE.options.controlSidebarOptions,c=$(b.selector),d=$(b.toggleBtnSelector);d.on("click",function(d){d.preventDefault(),c.hasClass("control-sidebar-open")||$("body").hasClass("control-sidebar-open")?a.close(c,b.slide):a.open(c,b.slide)});var e=$(".control-sidebar-bg");a._fix(e),$("body").hasClass("fixed")?a._fixForFixed(c):$(".content-wrapper, .right-side").height()<c.height()&&a._fixForContent(c)},open:function(a,b){b?a.addClass("control-sidebar-open"):$("body").addClass("control-sidebar-open")},close:function(a,b){b?a.removeClass("control-sidebar-open"):$("body").removeClass("control-sidebar-open")},_fix:function(a){var b=this;$("body").hasClass("layout-boxed")?(a.css("position","absolute"),a.height($(".wrapper").height()),$(window).resize(function(){b._fix(a)})):a.css({position:"fixed",height:"auto"})},_fixForFixed:function(a){a.css({position:"fixed","max-height":"100%",overflow:"auto","padding-bottom":"50px"})},_fixForContent:function(a){$(".content-wrapper, .right-side").css("min-height",a.height())}},$.AdminLTE.boxWidget={selectors:$.AdminLTE.options.boxWidgetOptions.boxWidgetSelectors,icons:$.AdminLTE.options.boxWidgetOptions.boxWidgetIcons,activate:function(){var a=this;$(a.selectors.collapse).on("click",function(b){b.preventDefault(),a.collapse($(this))}),$(a.selectors.remove).on("click",function(b){b.preventDefault(),a.remove($(this))})},collapse:function(a){var b=this,c=a.parents(".box").first(),d=c.find("> .box-body, > .box-footer");c.hasClass("collapsed-box")?(a.children(":first").removeClass(b.icons.open).addClass(b.icons.collapse),d.slideDown(300,function(){c.removeClass("collapsed-box")})):(a.children(":first").removeClass(b.icons.collapse).addClass(b.icons.open),d.slideUp(300,function(){c.addClass("collapsed-box")}))},remove:function(a){var b=a.parents(".box").first();b.slideUp()}}}if("undefined"==typeof jQuery)throw new Error("AdminLTE requires jQuery");$.AdminLTE={},$.AdminLTE.options={navbarMenuSlimscroll:!0,navbarMenuSlimscrollWidth:"3px",navbarMenuHeight:"200px",sidebarToggleSelector:"[data-toggle='offcanvas']",sidebarPushMenu:!0,sidebarSlimScroll:!0,sidebarExpandOnHover:!1,enableBoxRefresh:!0,enableBSToppltip:!0,BSTooltipSelector:"[data-toggle='tooltip']",enableFastclick:!0,enableControlSidebar:!0,controlSidebarOptions:{toggleBtnSelector:"[data-toggle='control-sidebar']",selector:".control-sidebar",slide:!0},enableBoxWidget:!0,boxWidgetOptions:{boxWidgetIcons:{collapse:"fa-minus",open:"fa-plus",remove:"fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}},directChat:{enable:!0,contactToggleSelector:'[data-widget="chat-pane-toggle"]'},colors:{lightBlue:"#3c8dbc",red:"#f56954",green:"#00a65a",aqua:"#00c0ef",yellow:"#f39c12",blue:"#0073b7",navy:"#001F3F",teal:"#39CCCC",olive:"#3D9970",lime:"#01FF70",orange:"#FF851B",fuchsia:"#F012BE",purple:"#8E24AA",maroon:"#D81B60",black:"#222222",gray:"#d2d6de"},screenSizes:{xs:480,sm:768,md:992,lg:1200}},$(function(){"undefined"!=typeof AdminLTEOptions&&$.extend(!0,$.AdminLTE.options,AdminLTEOptions);var a=$.AdminLTE.options;_init(),$.AdminLTE.layout.activate(),$.AdminLTE.tree(".sidebar"),a.enableControlSidebar&&$.AdminLTE.controlSidebar.activate(),a.navbarMenuSlimscroll&&"undefined"!=typeof $.fn.slimscroll&&$(".navbar .menu").slimscroll({height:a.navbarMenuHeight,alwaysVisible:!1,size:a.navbarMenuSlimscrollWidth}).css("width","100%"),a.sidebarPushMenu&&$.AdminLTE.pushMenu.activate(a.sidebarToggleSelector),a.enableBSToppltip&&$("body").tooltip({selector:a.BSTooltipSelector}),a.enableBoxWidget&&$.AdminLTE.boxWidget.activate(),a.enableFastclick&&"undefined"!=typeof FastClick&&FastClick.attach(document.body),a.directChat.enable&&$(a.directChat.contactToggleSelector).on("click",function(){var a=$(this).parents(".direct-chat").first();a.toggleClass("direct-chat-contacts-open")}),$('.btn-group[data-toggle="btn-toggle"]').each(function(){var a=$(this);$(this).find(".btn").on("click",function(b){a.find(".btn.active").removeClass("active"),$(this).addClass("active"),b.preventDefault()})})}),function(a){a.fn.boxRefresh=function(b){function c(a){a.append(f),e.onLoadStart.call(a)}function d(a){a.find(f).remove(),e.onLoadDone.call(a)}var e=a.extend({trigger:".refresh-btn",source:"",onLoadStart:function(a){},onLoadDone:function(a){}},b),f=a('<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>');return this.each(function(){if(""===e.source)return void(console&&console.log("Please specify a source first - boxRefresh()"));var b=a(this),f=b.find(e.trigger).first();f.on("click",function(a){a.preventDefault(),c(b),b.find(".box-body").load(e.source,function(){d(b)})})})}}(jQuery),function(a){a.fn.todolist=function(b){var c=a.extend({onCheck:function(a){},onUncheck:function(a){}},b);return this.each(function(){"undefined"!=typeof a.fn.iCheck?(a("input",this).on("ifChecked",function(b){var d=a(this).parents("li").first();d.toggleClass("done"),c.onCheck.call(d)}),a("input",this).on("ifUnchecked",function(b){var d=a(this).parents("li").first();d.toggleClass("done"),c.onUncheck.call(d)})):a("input",this).on("change",function(b){var d=a(this).parents("li").first();d.toggleClass("done"),c.onCheck.call(d)})})}}(jQuery);

var ecDtLang = {
    "sLoadingRecords": "Mohon Tunggu - sedang memuat data...",
    "sProcessing": "Memproses Data ..",
    "sZeroRecords": "Tidak ada data yang ditampilkan",
    "sInfo": "Menampilkan _START_ sampai _END_ dari _TOTAL_ baris data",
    "sInfoEmpty": " ",
    "sLengthMenu": "Tampilkan _MENU_ baris/halaman",
    "sSearch": "Cari: ",
//                            "oPaginate":{
//                                    "sFirst": "&laquo;",
//                                    "sLast": "&raquo;",
//                                    "sNext": "&rsaquo;",
//                                    "sPrevious": "&lsaquo;"
//                            }
    "oPaginate": {
        "sFirst": "Pertama",
        "sLast": "Terakhir",
        "sNext": "Selanjutnya",
        "sPrevious": "Sebelumnya"
    }
};



/**
 * @author Lahir Ganteng Abadi Gak ada yg ngalahin <lahirwisada@gmail.com>
 */
var findObj = function (objName, oGetData) {
    return $.grep(oGetData, function (e) {
        return e.name == objName;
    });
};
var getRecordDtTbl = function (sSource, aoData, oSettings, area, page_mode)
{

    if (typeof area === 'undefined') {
        area = '';
    }

    if (!isDefined(page_mode)) {
        page_mode = '';
    }
    var colSortData = findObj("iSortCol_0", aoData),
            colSortWay = findObj("sSortDir_0", aoData),
            searchKeyword = findObj("sSearch", aoData),
            currPage = findObj("iDisplayStart", aoData),
            rowPerPage = findObj("iDisplayLength", aoData);

    var lwKeyword = $("#inp_" + oSettings.sTableId + "_cari").val();

    aoData.push({"name": "lfa", "value": "datatable"});
    aoData.push({"name": "sort" + area + "[sort_field]", "value": oSettings.aoColumns[colSortData[0].value].mDataProp});
    aoData.push({"name": "sort" + area + "[sort_way]", "value": colSortWay[0].value});
    /* aoData.push({"name": "keyword"+area+"", "value": searchKeyword[0].value}); */
    aoData.push({"name": "keyword" + area + "", "value": lwKeyword});
    aoData.push({"name": "currpage" + area + "", "value": currPage[0].value});
    aoData.push({"name": "rowperpage" + area + "", "value": rowPerPage[0].value});
    aoData.push({"name": "page_mode" + area + "", "value": page_mode});
//
    return aoData;
};
var reloadTableDoubleTime = function (dtTable, twice) {
    /*dtTable.fnClearTable();*/dtTable.fnDraw();
}, SiapDatatableCollection = {};

/**
 * @requires JQuery $.extend
 */
var initDtTbl = function (tblConf) {
    var dtTable;

    if (!isDefined(tblConf)) {
        alert("konfigurasi tabel tidak ditemukan");
        return false;
    }

    if (typeof tblConf != "undefined" && typeof tblConf.tableId != "undefined" && typeof tblConf.conf != "undefined") {

        var defConf = {
            //'sScrollX': '110%',
            'bScrollCollapse': true,
            'bScrollAutoCss': true,
            'bJQueryUI': true,
            //"lwTblPencarian": {
            //    "placeHolder": 'Cari',
            //},
            "iDeferLoading": 0,
            "sPaginationType": "full_numbers",
            "bServerSide": true,
            'bProcessing': true,
            'oSearch': {"bRegex": false, "bSmart": false},
            'oLanguage': ecDtLang
        };

        $.extend(tblConf.conf, defConf);

        if (!isDefined(tblConf.conf.cShowSearch)) {
            tblConf.conf.cShowSearch = true;
        }

        dtTable = $('#' + tblConf.tableId).dataTable(tblConf.conf);

        try {
            dtTable.dataTable().fnAdjustColumnSizing();
        } catch (err) {
            console.log("ERROR DATATABLE: cek kembali, mungkin tabel tidak ditemukan / tidak terdapat pada halaman html.")
            console.log("app.min.js");
        }

        /*
         * reloadFn akan mengandung tableCollectionName dan tableReload
         * tableCollectionName berisi nama table pada SiapDatatableCollection
         * dan tableReload akan berisi true
         */
        if (typeof tblConf != "undefined" && typeof tblConf.reloadFn != "undefined") {
            var reloadObj = tblConf.reloadFn;
            SiapDatatableCollection[reloadObj.tableCollectionName] = dtTable;
            if (typeof reloadObj.tableReload != "undefined" && typeof reloadObj.tableCollectionName != "undefined" && reloadObj.tableReload != false) {
                var tableCollName = reloadObj.tableCollectionName;
                $('div#' + tblConf.tableId + '_wrapper div.dataTables_filter').prepend('<a id="a_reload_' + tblConf.tableId + '" href="javascript:;" class="title-east" original-title="Muat Ulang" onclick="reloadTableDoubleTime(SiapDatatableCollection.' + reloadObj.tableCollectionName + ');"><span class="icon-reload"></span></a>&nbsp;&nbsp;');
            }
        }
    }

    $('div.dataTables_filter input').addClass('form-control');
    $('select[name=' + tblConf.tableId + '_length]').addClass('form-control');

    $("#" + tblConf.tableId + "_filter").empty();

//    var showSearchInput = tblConf.conf.cShowSearch;
    if (tblConf.conf.cShowSearch) {
        var divInputGroup = $("<div class=\"input-group\"></div>"), inpDtTblSearch = $("<input type=\"text\" />"), divBtnGroup = $("<div class=\"input-group-btn\"></div>"), btnCari = $("<button></button>"), btnClear = $("<button></button>");

        $(inpDtTblSearch).addClass("form-control input-sm pull-right")
                .attr("style", "width: 150px;")
                .attr("id", "inp_" + tblConf.tableId + "_cari")
                .attr("placeholder", "Cari");

        $(btnCari).addClass("btn btn-sm btn-default")
                .attr("type", "button")
                .attr("id", "btnCari_" + tblConf.tableId)
                .attr("idTbl", tblConf.tableId)
                .attr("onclick", "dtTblCari(this, '" + reloadObj.tableCollectionName + "');")
                .append("<i class=\"fa fa-search\"></i>");

        $(btnClear).addClass("btn btn-sm btn-default")
                .attr("type", "button")
                .attr("id", "btnClear_" + tblConf.tableId)
                .attr("idTbl", tblConf.tableId)
                .attr("onclick", "dtTblClear(this, '" + reloadObj.tableCollectionName + "');")
                .text("Clear");

        $(divBtnGroup).append($(btnCari));
        $(divBtnGroup).append($(btnClear));

        $(divInputGroup).append($(inpDtTblSearch));
        $(divInputGroup).append($(divBtnGroup));

        $("#" + tblConf.tableId + "_filter").append($(divInputGroup));
    }
    $('#' + tblConf.tableId).attr("width", "1038px");

    return dtTable;
};

var initDtTblSimpleSearch = function (tblConf) {
    var dtTable;

    if (!isDefined(tblConf)) {
        alert("konfigurasi tabel tidak ditemukan");
        return false;
    }

    if (typeof tblConf != "undefined" && typeof tblConf.tableId != "undefined" && typeof tblConf.conf != "undefined") {

        var defConf = {
          //'sScrollX': '110%',
          'bScrollCollapse': true,
          'bScrollAutoCss': true,
          'bJQueryUI': true,
          //"lwTblPencarian": {
          //    "placeHolder": 'Cari',
          //},
          "iDeferLoading": 0,
          "sPaginationType": "full_numbers",
          "bServerSide": true,
          'bProcessing': true,
          'oSearch': {"bRegex": false, "bSmart": false},
          'oLanguage': ecDtLang
        };

        $.extend(tblConf.conf, defConf);

        if (!isDefined(tblConf.conf.cShowSearch)) {
            tblConf.conf.cShowSearch = true;
        }

        dtTable = $('#' + tblConf.tableId).dataTable(tblConf.conf);

        try {
            dtTable.dataTable().fnAdjustColumnSizing();
        } catch (err) {
            console.log("ERROR DATATABLE: cek kembali, mungkin tabel tidak ditemukan / tidak terdapat pada halaman html.")
            console.log("app.min.js");
        }

        /*
         * reloadFn akan mengandung tableCollectionName dan tableReload
         * tableCollectionName berisi nama table pada SiapDatatableCollection
         * dan tableReload akan berisi true
         */
        if (typeof tblConf != "undefined" && typeof tblConf.reloadFn != "undefined") {
            var reloadObj = tblConf.reloadFn;
            SiapDatatableCollection[reloadObj.tableCollectionName] = dtTable;
            if (typeof reloadObj.tableReload != "undefined" && typeof reloadObj.tableCollectionName != "undefined" && reloadObj.tableReload != false) {
                var tableCollName = reloadObj.tableCollectionName;
                $('div#' + tblConf.tableId + '_wrapper div.dataTables_filter').prepend('<a id="a_reload_' + tblConf.tableId + '" href="javascript:;" class="title-east" original-title="Muat Ulang" onclick="reloadTableDoubleTime(SiapDatatableCollection.' + reloadObj.tableCollectionName + ');"><span class="icon-reload"></span></a>&nbsp;&nbsp;');
            }
        }
    }

    $('div.dataTables_filter input').addClass('form-control');
    $('select[name=' + tblConf.tableId + '_length]').addClass('form-control');

    $("#" + tblConf.tableId + "_filter").empty();
    if (tblConf.conf.cShowSearch) {
        var divInputGroup = $("<div>Cari: </div>"),inpDtTblSearch = $("<input type=\"search\" / style=\"border-radius:4px\">");

        $(inpDtTblSearch).addClass("form-control input-sm")
                .attr("id", "inp_" + tblConf.tableId + "_cari")
                .attr("onkeypress", "dtTblCari(this, '" + reloadObj.tableCollectionName + "');")
        $(divInputGroup).append($(inpDtTblSearch));
        $("#" + tblConf.tableId + "_filter").append($(divInputGroup));
    }
    $('#' + tblConf.tableId).attr("width", "100%");
    return initDtTblSimpleSearch;
};

function dtTblCari(self, vTable) {
    reloadTableDoubleTime(SiapDatatableCollection[vTable]);
}

function dtTblClear(self, vTable) {
    var idTable = $(self).attr("idTbl");
    $("#inp_" + idTable + "_cari").val('');

    dtTblCari(self, vTable);
}

function isFunction(o) {
    return typeof o === 'function'
}

function isObjectAttributeExists(o, a) {
    if (isDefined(o) && isDefined(a) && isString(a)) {
        return o.hasOwnProperty(a);
    }
    return false;
}
function isString(o) {
    return typeof o == 'string';
}
function isDefined(o) {
    return typeof o !== 'undefined';
}
function __isEmpty(o) {
    for (var k in o) {
        if (hasOwnProperty.call(o, k)) {
            return false;
        }
    }
    return true;
}
function isEmpty(o) {
    if (o == null) {
        return true;
    }
    if (o.length === 0) {
        return true;
    }
    if (o.length > 0) {
        return false;
    }
    return __isEmpty(o);
}
function isArray(o) {
    return (Object.prototype.toString.call(o) === '[object Array]');
}
function inArray(v, a, s) {
    if (!isEmpty(v) && isArray(a)) {
        var i = $.inArray(v, a);
        if (i > -1) {
            return i;
        }
    }
    if (!isEmpty(v) && !isArray(a)) {
        if (typeof s === 'undefined') {
            s = ", ";
        }
        var r = a.split(s), _a = [];
        if (isArray(r)) {
            _a = r;
        } else {
            _a.push(r);
        }
        return inArray(v, _a, s);
    }
    return false;
}
function isNumber(evt) {
    evt = (evt) ? evt : window.event;
    var charCode = (evt.which) ? evt.which : evt.keyCode;
    if (charCode > 31 && (charCode < 48 || charCode > 57)) {
        return false;
    }
    return true;
}
function isHidden(el) {
    return (el.offsetParent === null)
}
/**
 *
 * set input element with id or name as ken to null
 *
 * @author Lahir Wisada Santoso <lahirwisada@gmail.com>
 * @param {string} ken
 */
function freeElementVal(ken, is2) {
    if (isDefined(ken) && isString(ken)) {
        if ($("input#" + ken).length > 0) {
            if (isDefined(is2) && is2) {
                $("input#" + ken).select2("val", '');
            } else {
                $("input#" + ken).val('');
            }
        }
    } else if ($("input[name=\"" + ken + "\"]").length > 0) {
        if (isDefined(is2) && is2) {
            $("input[name=\"" + ken + "\"]").select2("val", '');
        } else {
            $("input[name=\"" + ken + "\"]").val('');
        }
    }
    return;
}
function freeSelectionSelect2(as2i) {
    if (isDefined(as2i)) {
        if (isArray(as2i)) {
            for (var i in as2i) {
                freeSelectionSelect2(as2i[i]);
            }
        }
        if (isString(as2i)) {
            freeElementVal(as2i, true);
        }
    }
    return;
}
function evaluateIsSelect2(self) {
    if (isDefined(self) && $(self).data('select2')) {
        return true;
    }
    return false;
}

function lhkpnFormCheck(formId) {

    if (!isDefined(formId)) {
        formId = "#ajaxFormAdd";
    } else {
        if ($(formId).length < 1) {
            return false;
        }
    }
    $(".popover").remove();

    var someDataRequired = false;

    var objFields = $(formId)
            .find("select.field-required, textarea.field-required, input.field-required"),
            fields = objFields.serializeArray();

    $.each(fields, function (i, field) {

        if (!field.value) {
            $(objFields[i]).attr("data-trigger", "focus");
            $(objFields[i]).popover({
                'content': 'Kolom ini harus diisi',
                'placement': 'auto',
                'trigger': 'focus',
            });

            var fRemovePopOver = function (self) {
                if ($(self).val() != '') {
                    $(self).removeAttr('data-trigger');
                    $(self).popover('destroy');
                }
            };

            $(objFields[i]).on('blur', function () {
                fRemovePopOver(this);
            });
            $(objFields[i]).on('change', function () {
                fRemovePopOver(this);
            });


            $(objFields[i]).popover('show');
            someDataRequired = true;

            return false;
        }
    });

    if (someDataRequired) {
        return false;
    }
    return true;
}




/**
 * LHKPN Modal
 */
function create_element_lhkpn_modal(callbackclose, titlebuttonyes, titlebuttonno) {

    if (!isDefined(titlebuttonyes)) {
        titlebuttonyes = "YA";
    }

    if (!isDefined(titlebuttonno)) {
        titlebuttonno = "TUTUP";
    }

    dropElement('section#sc-lhkpn-modal');
    var onclickbuttonclose = isDefined(callbackclose) && isFunction(callbackclose) ? "return true;" : "return false;";
    var datadismismodal = isDefined(callbackclose) && isFunction(callbackclose) ? "" : "data-dismiss='modal'";
    var strhtml = "<div id='elhkpn-modal' class='modal'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'>&times;</span></button><h4 class='modal-title'><span id='lhkpn-title-modal'></span></h4></div><div class='modal-body'><p><div id='lhkpn-body-modal'></div></p></div><div class='modal-footer'><button id='lhkpn-btn-modal-yes' onclick='return true;' type='button' class='btn btn-primary'><span id='lhkpn-title-modal-yes'>" + titlebuttonyes + "</span></button><button id='lhkpn-btn-modal-close' type='button' class='btn btn-default' onclick='" + onclickbuttonclose + "' " + datadismismodal + "><span id='lhkpn-title-modal-close'>" + titlebuttonno + "</span></button></div></div></div></div>";
    var divModal = $("<div  class='elhkpn-modal'></div>");

    $(divModal).append(strhtml);
    var scLhkpnElem = $(document.createElement('section')).addClass("content").attr("id", "sc-lhkpn-modal");
    $(scLhkpnElem).append($(divModal));

    if ($("div.wrapper").length > 0) {
        $("div.wrapper").append($(scLhkpnElem));
    } else if ($("section#wrapper").length > 0) {
        $("section#wrapper").append($(scLhkpnElem));
    } else {
        $("body").append($(scLhkpnElem));
    }

    $("#elhkpn-modal").on('hidden.bs.modal', function () {
        dropElement('section#sc-lhkpn-modal');
        $('.modal-backdrop').hide();
    });
}

function dropElement(modalIdElement) {
    if (isDefined(modalIdElement)) {
        if ($(modalIdElement).length > 0) {
            $(modalIdElement).remove();
            $('.modal-backdrop').hide();
        }
    }
}

function alert(text, title) {
    create_element_lhkpn_modal();

//        $('#elhkpn-modal').modal('hide');
    if (!isDefined(text)) {
        text = "PERHATIAN";
    }
    if (!isDefined(title)) {
        title = "PERHATIAN";
    }

    $("#lhkpn-btn-modal-yes").click(function () {
        return false;
    });

    $("#lhkpn-btn-modal-yes").hide();
    $('#elhkpn-modal #lhkpn-body-modal').text(text);
    $('#elhkpn-modal #lhkpn-title-modal').text(title);
    $('#elhkpn-modal').modal('show');
}

function confirm(text, callback, title, callbackclose, titlebuttonyes, titlebuttonno) {

    create_element_lhkpn_modal(callbackclose, titlebuttonyes, titlebuttonno);
    $('#elhkpn-modal').modal('hide');

    $("#lhkpn-btn-modal-yes").show();

    if (!isDefined(text)) {
        text = "KONFIRMASI ULANG";
    }
    if (!isDefined(title)) {
        title = "KONFIRMASI ULANG";
    }
    if (!isDefined(callback)) {
        callback = function () {};
    }

    $("#lhkpn-btn-modal-yes").click(function () {
        $('#elhkpn-modal').modal('hide');
        if (isFunction(callback)) {
            callback();
        }
        return true;
    });

    $("#lhkpn-btn-modal-close").click(function () {
        $('#elhkpn-modal').modal('hide');
        if (isFunction(callbackclose)) {
            callbackclose();
            return true;
        } else {
            return false;
        }
    });
//    $('#elhkpn-modal #lhkpn-body-modal').text(text);
    $('#elhkpn-modal #lhkpn-body-modal').html(text);
    $('#elhkpn-modal #lhkpn-title-modal').text(title);
    $('#elhkpn-modal').modal('show');
}

function closeModalIsOpened(modalId) {
    if (isDefined(modalId)) {
        if (($(modalId).data('bs.modal') || {}).isShown) {
            $(modalId).modal('hide');
        }
    }
}

function showLhkpnModal(modalId, setting, callback) {

    var _setting = 'show';

    if (isDefined(setting)) {
        _setting = setting;
    }

    if (isDefined(modalId)) {
        closeModalIsOpened(modalId);
        $(modalId).modal(_setting);
    }

    if (!isDefined(callback)) {
        callback = function () {};
    }

    callback();
}
/**
 * END LHKPN Modal
 */
/**
 * End
 * @author Lahir Ganteng Abadi <lahirwisada@gmail.com>
 */

function actionCetakBukti(self) {
    var xpesa = $(self).attr("xpesa");
    var url = "mailbox/cetakbuktielhkpn/?xpesa=" + xpesa;
    //window.location.href = url,"_blank";
    window.open(url, "_blank");
}